<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Carona</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <!-- bootstrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
        
        <!-- font awesome -->
        <script src="https://kit.fontawesome.com/b11b0db6c0.js" crossorigin="anonymous"></script>
        
        <link rel="stylesheet" type="text/css" media="screen" href="assets/css/style.css" />

    </head>

    <body>  
        <div class="nav_wrapper">
            <header>
                <h2>Caroneiros</h2>
            </header>
            <nav>
                <ul>
                    <li><a href="carona.html">Início</a></li>
                    <li>  |  </li>
                    <li><a href="caronas.html">Minhas caronas</a></li>
                </ul>
            </nav>
        </div>
        
        <div class="content_area">
            <header class="welcome">
                <h2>Bem vindo</h2>
            </header>
            <div class="request-carpool">
                <div class="form-centered request-form">
                    <form class="sign_in_form" id="signInForm">
                        <h4>Gostaria de solicitar uma carona?</h4>
                        <br />
                        <input type="text" id="username" name="nome" placeholder=" Origem" required>
                        <input type="email" id="email" name="email" placeholder=" Destino" required>
                        <input type="date" id="phone_number" name="celular" placeholder=" Data" required>
                        <br />
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="exampleCheck1">
                            <label class="form-check-label" for="exampleCheck1">Utilizar dados da minha conta</label>
                        </div>
                        <br />
                        <input type="Submit" id="submit" value="Solicitar" class="button success">
                    </form>
                </div>
            </div>
            <header class="my-rides">
                <h2>Minhas Notificações</h2>
            </header>
            <header class="my-rides">
                <h2>Minhas caronas notificadas</h2>
            </header>
            <header class="my-rides">
                <h2>Minhas caronas</h2>
            </header>
            <div class="available_ride_offers_wrapper" id="availableRideArea">
                <div class="ride_template rides">
                    <table class="ride-table">
                        <tr>
                            <th class="table-title">Nome Caroneiro</th>
                            <td id="origin">John Doe</td>
                        </tr>
                        <tr>
                            <th>Telefone</th>
                            <td id="origin">12345678</td>
                        </tr>
                        <tr>
                            <th>Origem</th>
                            <td id="destination">Curitiba</td>
                        </tr>
                        <tr>
                            <th>Destino</th>
                            <td id="start_date">São José dos Pinhais</td>
                        </tr>
                        <tr>
                            <th>Data</th>
                            <td id="start_date">09/12/2021</td>
                        </tr>
                    </table>
                    
                </div>
                <div class="ride_template rides">
                    <table class="ride-table">
                        <tr>
                            <th class="table-title">Nome Caroneiro</th>
                            <td id="origin">John Doe</td>
                        </tr>
                        <tr>
                            <th>Telefone</th>
                            <td id="origin">12345678</td>
                        </tr>
                        <tr>
                            <th>Origem</th>
                            <td id="destination">Curitiba</td>
                        </tr>
                        <tr>
                            <th>Destino</th>
                            <td id="start_date">São José dos Pinhais</td>
                        </tr>
                        <tr>
                            <th>Data</th>
                            <td id="start_date">09/12/2021</td>
                        </tr>
                    </table>
                    
                </div>
            </div>
            
        </div>
        <footer class="footer_wrapper">
            <div class="bottom_footer_section">
                <p>Aplicação 2 Sistemas Distribuídos - Isadora e João Pedro</p>
            </div>
        </footer>
        <!-- mudar aqui js -->
        <script src="static/js/available_rides.js" type="module"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
            crossorigin="anonymous"></script>
            <script>
                var source = new EventSource("http://127.0.0.1:8000/stream ");
                source.addEventListener('greeting', function (event) {
                  var data = (event.data);
                  console.log("The server says " + data.message);
                }, false);
                source.addEventListener('error', function (event) {
                  console.log("Failed to connect to event stream. Is Redis running?");
                }, false);
              </script>
            
              <script>
                var Result;
                function relato() {
                  let teste = '1';
            
                  var data = new FormData();
                  data.append("teste", teste);
            
                  var xhr = new XMLHttpRequest();
                  xhr.withCredentials = true;
            
                  xhr.addEventListener("readystatechange", function () {
                    if (this.readyState === 4) {
            
                      Result =/*  JSON.parse */(xhr.response);
                      console.log(Result)
            
                    }
                  });
            
                  xhr.open("POST", "http://127.0.0.1:8000/desejo_carona");
                  xhr.send(data);
                }
              </script>
    </body>

</html>